/* Importar la fuente Candara (si no está instalada en el sistema del usuario) */
@font-face {
    font-family: 'Candara';
    src: url('https://raw.githubusercontent.com/google/fonts/main/ofl/notosans/static/NotoSans-Regular.ttf') format('truetype'); /* Puedes usar una fuente similar de Google Fonts o descargar Candara */
    /* Nota: Candara es una fuente propietaria de Microsoft. Una alternativa gratuita similar es 'Noto Sans' o 'Open Sans' */
}

body {
    font-family: 'Candara', sans-serif; /* Aplicar Candara como fuente principal */
    margin: 0;
    padding: 20px;
    background-color: #f4f4f4;
    color: #333;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: hidden; /* Evita scroll horizontal no deseado */
    overflow-y: auto;   /* Permite scroll vertical si el contenido excede la altura de la ventana */
    min-width: 1200px; /* Ancho mínimo para que la malla se vea bien en escritorio sin amontonarse */
}

h1 {
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
}

.contador {
    margin-bottom: 20px;
    font-size: 1.2em;
    font-weight: bold;
    color: #007bff;
}

.malla-container {
    display: flex;
    flex-direction: row; /* Años en fila horizontal */
    justify-content: center; /* Centra los años horizontalmente */
    align-items: flex-start; /* Alinea los años en la parte superior */
    gap: 15px; /* Espacio entre los bloques de año */
    padding-bottom: 30px; /* Espacio para que no se pegue la leyenda */
}

.anio {
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 10px;
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column; /* Contenido del año (título y semestres) verticalmente */
    align-items: center;
    flex-shrink: 0; /* Evita que los años se encojan si no hay suficiente espacio */
}

.anio h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #34495e;
    font-size: 1.4em;
    text-align: center;
    width: 100%;
}

.semestres-container {
    display: flex;
    flex-direction: row; /* Semestres horizontalmente dentro del año */
    gap: 10px; /* Espacio entre semestres */
    width: 100%; /* Asegura que ocupe el ancho del año */
    justify-content: center;
}

.semestre {
    flex: 1; /* Distribuye el espacio equitativamente entre los semestres */
    display: flex;
    flex-direction: column; /* Ramos verticalmente dentro del semestre */
    gap: 8px; /* Espacio entre ramos */
    padding: 8px;
    border: 1px dashed #eee;
    border-radius: 5px;
    background-color: #f9f9f9;
    align-items: center; /* Centra los ramos en el semestre */
}

.semestre h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #555;
    font-size: 1em;
    text-align: center;
    width: 100%;
}

.ramo {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 6px 8px; /* Padding ajustado para optimizar espacio */
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease, opacity 0.3s ease;
    min-width: 110px; /* Ancho mínimo para cada ramo */
    max-width: 140px; /* Ancho máximo para cada ramo */
    box-sizing: border-box; /* Incluye padding y borde en el ancho/alto */
    font-size: 0.85em; /* Tamaño de fuente ajustado */
    line-height: 1.2; /* Espaciado entre líneas */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 60px; /* Altura mínima para asegurar uniformidad */
    color: #fff; /* Texto blanco por defecto para ramos con color de fondo */
    word-wrap: break-word; /* Permite que el texto se rompa si es muy largo */
    overflow: hidden; /* Oculta cualquier desborde de texto */
}

/* Colores de los ámbitos (¡Tus colores específicos!) */
.ambito-I { background-color: #FFB6C1; color: #333; } /* LightPink (texto oscuro por contraste) */
.ambito-II { background-color: #C71585; } /* MediumVioletRed */
.ambito-III { background-color: #800080; } /* Purple */
.ambito-IV { background-color: #DB7093; } /* PaleVioletRed */
.ambito-V { background-color: #FF1493; } /* DeepPink */
.ambito-VI { background-color: #D8BFD8; color: #333; } /* Thistle (texto oscuro por contraste) */

/* Estilos para ramos aprobados y bloqueados (interactividad) */
.ramo.aprobado {
    text-decoration: line-through; /* Tachado del texto */
    cursor: default; /* No se puede clickear de nuevo para desaprobar */
    opacity: 0.7; /* Atenúa el color del bloque */
    filter: brightness(0.9); /* Ligeramente más oscuro */
}

.ramo.bloqueado {
    opacity: 0.4; /* Muy atenuado para los bloqueados */
    cursor: not-allowed; /* Cursor de "no permitido" */
    background-color: #e0e0e0 !important; /* Anula el color de ámbito para hacerlos grises */
    color: #777 !important; /* Texto gris */
    filter: grayscale(80%); /* Hace que el color se vea casi grisáceo */
}

/* Efectos al pasar el ratón (solo para ramos no aprobados y no bloqueados) */
.ramo:not(.aprobado):not(.bloqueado):hover {
    filter: brightness(1.1); /* Ligero brillo al pasar el ratón */
    transform: scale(1.02); /* Pequeño efecto de escala */
}

/* Separadores verticales (para "Licenciado/a" y "Título Profesional") */
.separador-vertical {
    display: flex;
    flex-direction: column; /* Texto vertical */
    justify-content: center;
    align-items: center;
    text-align: center;
    font-weight: bold;
    font-size: 1.1em;
    padding: 0 8px; /* Espacio horizontal */
    color: #555;
    background-color: #e2e2e2;
    border-radius: 5px;
    margin: 0 10px; /* Espacio entre separador y años */
    white-space: nowrap; /* Evita que las letras se rompan a la siguiente línea */
    line-height: 1.1; /* Espaciado entre letras */
    flex-shrink: 0; /* Evita que el separador se encoja */
}

.separador-vertical.licenciado {
    color: #8B0000; /* DarkRed */
    border: 1px solid #8B0000;
}

.separador-vertical.titulo-profesional {
    color: #006400; /* DarkGreen */
    border: 1px solid #006400;
}

/* Contenedor de la leyenda (al final de la página) */
.leyenda-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap; /* Permite que los bloques de leyenda se envuelvan si la pantalla es más pequeña */
    gap: 12px; /* Espacio entre los bloques de la leyenda */
    margin-top: 30px;
    padding: 15px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    max-width: 90%; /* Ancho máximo de la leyenda */
    box-sizing: border-box;
}

.leyenda-bloque {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 6px 10px; /* Padding ajustado */
    text-align: center;
    font-size: 0.8em; /* Tamaño de fuente ajustado */
    font-weight: bold;
    color: #fff;
    min-width: 100px;
    height: 70px; /* Altura fija para la leyenda */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    word-wrap: break-word;
    overflow: hidden;
    flex-shrink: 0; /* Evita que los bloques de leyenda se encojan */
}

/* Colores de leyenda (deben coincidir con los de los ramos) */
.leyenda-bloque.ambito-I { background-color: #FFB6C1; color: #333; }
.leyenda-bloque.ambito-II { background-color: #C71585; }
.leyenda-bloque.ambito-III { background-color: #800080; }
.leyenda-bloque.ambito-IV { background-color: #DB7093; }
.leyenda-bloque.ambito-V { background-color: #FF1493; }
.leyenda-bloque.ambito-VI { background-color: #D8BFD8; color: #333; }

/* Media Queries para Responsive Design (Mejora la visualización en pantallas más pequeñas) */
@media (max-width: 1200px) {
    body {
        min-width: auto; /* Permite que el cuerpo se encoja */
        overflow-x: auto; /* Permite scroll horizontal si es necesario */
    }
    .malla-container {
        justify-content: flex-start; /* Alinea a la izquierda en pantallas más pequeñas */
    }
}

@media (max-width: 768px) {
    .malla-container {
        flex-direction: column; /* Apila los años verticalmente en pantallas pequeñas */
        align-items: center;
        gap: 20px;
    }

    .anio {
        width: 95%; /* Ocupa casi todo el ancho disponible */
        margin-bottom: 0;
        min-width: unset;
    }

    .semestres-container {
        flex-direction: column; /* Apila los semestres verticalmente en pantallas pequeñas */
    }

    .separador-vertical {
        margin: 20px 0; /* Más espacio vertical en pantallas pequeñas */
        height: auto;
    }

    .leyenda-container {
        flex-direction: column; /* Apila los bloques de la leyenda */
        width: 95%;
        max-width: 95%;
    }

    .leyenda-bloque {
        min-width: unset; /* Ancho automático */
        width: 100%;
        height: auto; /* Altura automática */
    }
}
